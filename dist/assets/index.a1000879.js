const g=function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const t of document.querySelectorAll('link[rel="modulepreload"]'))s(t);new MutationObserver(t=>{for(const e of t)if(e.type==="childList")for(const o of e.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&s(o)}).observe(document,{childList:!0,subtree:!0});function i(t){const e={};return t.integrity&&(e.integrity=t.integrity),t.referrerpolicy&&(e.referrerPolicy=t.referrerpolicy),t.crossorigin==="use-credentials"?e.credentials="include":t.crossorigin==="anonymous"?e.credentials="omit":e.credentials="same-origin",e}function s(t){if(t.ep)return;t.ep=!0;const e=i(t);fetch(t.href,e)}};g();const w="a4721fdfb1be06a208d414060e03efb6",l=document.querySelector(".top-banner form"),u=document.querySelector(".top-banner input"),d=document.querySelector(".top-banner .msg"),m=document.querySelector(".ajax-section .cities");l.addEventListener("submit",p=>{p.preventDefault();let n=u.value;const i=m.querySelectorAll(".ajax-section .city"),s=Array.from(i);if(s.length>0){const e=s.filter(o=>{let r="";return n.includes(",")?n.split(",")[1].length>2?(n=n.split(",")[0],r=o.querySelector(".city-name span").textContent.toLowerCase()):r=o.querySelector(".city-name").dataset.name.toLowerCase():r=o.querySelector(".city-name span").textContent.toLowerCase(),r==n.toLowerCase()});if(e.length>0){d.textContent=`You already know the weather for ${e[0].querySelector(".city-name span").textContent} ...otherwise be more specific by providing the country code as well \u{1F609}`,l.reset(),u.focus();return}}const t=`https://api.openweathermap.org/data/2.5/weather?q=${n}&appid=${w}&units=metric`;fetch(t).then(e=>e.json()).then(e=>{const{main:o,name:r,sys:f,weather:c}=e,y=`https://s3-us-west-2.amazonaws.com/s.cdpn.io/162656/${c[0].icon}.svg`,a=document.createElement("li");a.classList.add("city");const h=`
        <h2 class="city-name" data-name="${r},${f.country}">
          <span>${r}</span>
          <sup>${f.country}</sup>
        </h2>
        <div class="city-temp">${Math.round(o.temp)}<sup>\xB0C</sup></div>
        <figure>
          <img class="city-icon" src="${y}" alt="${c[0].description}">
          <figcaption>${c[0].description}</figcaption>
        </figure>
      `;a.innerHTML=h,m.appendChild(a)}).catch(()=>{d.textContent="Please search for a valid city \u{1F629}"}),d.textContent="",l.reset(),u.focus()});
